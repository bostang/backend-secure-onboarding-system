# Test Configuration
spring.application.name=Customer-Registration-Test
server.port=0

# H2 Database for testing
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

# JPA Settings
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.open-in-view=false

# JWT Test Settings - Secret minimal 64 bytes untuk HS512
app.jwt.secret=dGVzdC1zZWNyZXQtZm9yLXVuaXQtdGVzdC10aGF0LWlzLWF0LWxlYXN0LTY0LWJ5dGVzLWxvbmctdG8tbWVldC1oczUxMi1yZXF1aXJlbWVudA==
app.jwt.expiration=86400000

# Disable security for tests
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration

# CORS
app.cors.allowed-origins=http://localhost:3000

# Rate limiting
app.rateLimit.enabled=false

# Logging
logging.level.com.reg.regis=INFO
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN

# External Services - DUKCAPIL SERVICE
app.dukcapil.base-url=${DUKCAPIL_SERVICE_URL}/api/dukcapil
app.dukcapil.verify-nik-endpoint=/verify-nik
app.dukcapil.check-nik-endpoint=/check-nik
app.dukcapil.timeout=10000
dukcapil.api.key=dukcapil-secret-key-123